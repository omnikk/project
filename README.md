# ТЕХНИЧЕСКОЕ ЗАДАНИЕ
## Разработка веб-ресурса для управления сетью салонов красоты

## 1. Основание для разработки

Разработка веб-приложения обусловлена необходимостью автоматизации процессов записи клиентов и управления деятельностью сети салонов красоты с целью повышения качества обслуживания и оптимизации бизнес-процессов.

## 2. Назначение разработки

Создание программного комплекса для автоматизации онлайн-записи клиентов к мастерам салонов красоты с возможностью учета финансовых показателей, аналитики работы и расчета заработной платы персонала.

## 3. Цели разработки

- Создание удобного интерфейса для онлайн-записи клиентов
- Реализация системы управления расписанием мастеров
- Разработка модуля аналитики и финансовой отчетности
- Создание инструмента для оценки эффективности работы салонов и мастеров

## 4. Требования к функциональным характеристикам

### 4.1. Клиентская часть

- Регистрация и аутентификация пользователей
- Просмотр салонов на интерактивной карте
- Выбор мастера, услуги, даты и времени записи
- Отображение свободных временных слотов
- Личный кабинет с историей записей
- Редактирование личных данных

### 4.2. Система аналитики (для администраторов)

- Общая статистика: количество салонов, мастеров, клиентов, записей
- Финансовая аналитика с фильтрацией по периодам
- Аналитика выручки по салонам и услугам
- Расчет доходов мастеров (записи × почасовая ставка)
- Экспорт отчетов в формат CSV

### 4.3. Управление данными

- CRUD операции для салонов, мастеров, клиентов, записей
- Разграничение прав доступа (клиент/администратор)
- Управление профилями пользователей

## 5. Требования к надежности

- Валидация всех входных данных через Pydantic схемы
- Защита от SQL-инъекций через ORM SQLAlchemy
- Контроль занятости временных слотов перед созданием записи
- Обработка исключительных ситуаций с логированием

## 6. Условия эксплуатации

- Веб-доступ через стандартные браузеры (Chrome 90+, Firefox 88+, Safari 14+, Edge 90+)
- Поддержка мобильных устройств и адаптивный дизайн
- Работа в локальной сети или через интернет

## 7. Требования к составу и параметрам технических средств

### Серверная часть:

- ОС: Linux (Ubuntu 20.04+), Windows 10/11, macOS 11+
- Python 3.10+
- Процессор: 2 ядра, 2.0 ГГц
- ОЗУ: 2 ГБ
- Дисковое пространство: 500 МБ

### Клиентская часть:

- Веб-браузер современной версии
- Разрешение экрана: минимум 1280×720
- Интернет-соединение: от 1 Мбит/с

## 8. Требования к информационной и программной совместимости

### Backend:

- FastAPI 0.115.0
- SQLAlchemy 2.0.35
- Pydantic 2.10.3
- SQLite 3

### Frontend:

- React 18.3.1
- React Router DOM 7.9.6
- Vite 6.0.0

### Стандарты:

- REST API архитектура
- JSON формат данных
- Адаптивный дизайн (responsive design)

## 9. Стадии и этапы разработки

1. Техническое задание
2. Проектирование архитектуры и базы данных
3. Разработка Backend API
4. Разработка Frontend интерфейса
5. Реализация системы аналитики
6. Внедрение и документирование

## 10. Порядок контроля и приемки

- Функциональное тестирование всех модулей (клиент, администратор)
- Проверка корректности расчетов в аналитике
- Тестирование на различных браузерах и устройствах
- Проверка наличия тестовых данных (4 салона, 8 мастеров, 300+ записей)
- Анализ соответствия требованиям ТЗ

# ОПИСАНИЕ ПРОГРАММЫ

**Разработка веб-ресурса для сети салонов красоты с элементами бэкенд-обработки данных**

Версия 1.0

Студент: Выборнов Олег Андреевич  
Группа: ЭФМО-02-25  
Дата: 29.11.2025

---

## 1. ОБЩИЕ СВЕДЕНИЯ

**Наименование:** Система управления салонами красоты

**Программное обеспечение:**
- Backend: Python 3.10+, FastAPI, SQLAlchemy, Uvicorn
- Frontend: Node.js 16+, React 18, Vite, React Router
- База данных: SQLite 3

---
**Запуск** 

- Склонировать репозиторий или скачать к себе
- Открыть два терминала или powershell окна
- В первом перейти в cd ..\project\backend
- Запустить сервер: python -m uvicorn main:app --reload --port 8080
- Во втором перейти в cd ..\project\frontend
- Ввести команду: npm run dev

---

## 2. ФУНКЦИОНАЛЬНОЕ НАЗНАЧЕНИЕ

Программа предназначена для автоматизации процессов управления сетью салонов красоты и решает следующие задачи:

- Управление записями клиентов к мастерам с выбором услуг, даты и времени
- Учет финансовых показателей салонов (выручка, средний чек, отмены)
- Аналитика по салонам, мастерам и услугам с фильтрацией по периодам
- Расчет заработной платы мастеров на основе почасовых ставок
- Экспорт отчетности в формат CSV
- Управление профилями пользователей с разделением прав доступа

**Функциональные ограничения:** Система рассчитана на работу с сетью до 50 салонов, 500 мастеров и 10000 клиентов. Максимальная глубина хранения истории записей - 2 года.

---

## 3. ОПИСАНИЕ ЛОГИЧЕСКОЙ СТРУКТУРЫ

**Архитектура:** Клиент-серверная архитектура с разделением на frontend и backend части.

### Backend (API-сервер):
- `models.py` - модели данных (User, Salon, Master, Client, Appointment)
- `schemas.py` - схемы валидации данных (Pydantic)
- `main.py` - маршруты REST API и обработчики запросов
- `analytics.py` - endpoints аналитики и экспорта данных
- `database.py` - подключение к БД и создание сессий

### Frontend (веб-приложение):
- `components/` - переиспользуемые React-компоненты (Header, Footer, BookingForm, SalonCard)
- `pages/` - страницы приложения (Home, SalonPage, MasterPage, Profile, AdminDashboard)
- `main.jsx` - точка входа, маршрутизация (React Router)

**Метод работы:** RESTful API с обменом данными в формате JSON. Frontend делает HTTP-запросы к Backend через fetch API. Аутентификация через localStorage. Данные хранятся в реляционной БД SQLite с использованием ORM SQLAlchemy.

### Связи между модулями:
- User (1) → (N) Client - один пользователь может быть клиентом в разных салонах
- Salon (1) → (N) Master - в салоне работают несколько мастеров
- Master (1) → (N) Appointment - у мастера множество записей
- Client (1) → (N) Appointment - клиент может иметь много записей

---

## 4. ИСПОЛЬЗУЕМЫЕ ТЕХНИЧЕСКИЕ СРЕДСТВА

### Минимальные требования к серверу:
- Процессор: 2 ядра, 2.0 ГГц
- Оперативная память: 2 ГБ
- Дисковое пространство: 500 МБ
- ОС: Windows 10/11, Linux (Ubuntu 20.04+), macOS 11+

### Требования к клиентской части:
- Веб-браузер: Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- Разрешение экрана: минимум 1280x720
- Интернет-соединение: стабильное подключение со скоростью от 1 Мбит/с

---

## 5. ВЫЗОВ И ЗАГРУЗКА

### Запуск Backend:
1. Установить зависимости: `pip install fastapi uvicorn sqlalchemy`
2. Инициализировать БД: `python seed_data.py`
3. Запустить сервер: `uvicorn main:app --reload --port 8080`

### Запуск Frontend:
1. Установить зависимости: `npm install`
2. Запустить dev-сервер: `npm run dev`

**Точки входа:** Главная страница (/) - список салонов, Страница салона (/salon/:id), Профиль пользователя (/profile), Панель администратора (/admin)

---

## 6. ВХОДНЫЕ ДАННЫЕ

### Основные типы входных данных:

**1. Регистрация/Аутентификация пользователя:**

Формат JSON:
```json
{
  "email": "string",
  "password": "string",
  "name": "string"
}
```

**2. Создание записи к мастеру:**

Формат JSON:
```json
{
  "master_id": int,
  "client_id": int,
  "start_time": "ISO-datetime",
  "end_time": "ISO-datetime",
  "service": "string",
  "price": float,
  "status": "confirmed"
}
```

**Валидация:** Все входные данные проходят валидацию через Pydantic схемы. Обязательные поля: email (формат email), password (мин. 6 символов), даты (ISO формат), цены (положительные числа).

---

## 7. ВЫХОДНЫЕ ДАННЫЕ

### Основные типы выходных данных:

**1. Список салонов/мастеров:**

Формат JSON (массив):
```json
[
  {
    "id": int,
    "name": "string",
    "photo_url": "string"
  }
]
```

**2. Финансовая аналитика:**

Формат JSON:
```json
{
  "total_revenue": float,
  "total_appointments": int,
  "average_check": float,
  "cancelled_count": int
}
```

**3. Экспорт в CSV:**

Content-Type: `text/csv; charset=utf-8`

Формат: заголовки через запятую, данные построчно

Пример:

    "Салон,Выручка,Количество
    Салон 1,150000,45"

**4. Свободные слоты для записи:**

Формат JSON (массив):
```json
[
  {
    "time": "HH:00",
    "hour": int,
    "available": boolean
  }
]
```

### Тестовые данные:

Система содержит 4 салона, 8 мастеров, 12 клиентов и около 300 тестовых записей за период 60 дней. Услуги включают стрижки, окрашивание, маникюр, педикюр и др. с ценами от 1200₽ до 6000₽. Ставки мастеров варьируются от 280₽ до 400₽ в час.


database:

<img width="1594" height="273" alt="image" src="https://github.com/user-attachments/assets/8a349868-ef42-4d3b-82ce-4954636da4a7" />

Запуск:

<img width="1905" height="366" alt="image" src="https://github.com/user-attachments/assets/946a088b-3bff-480d-99f4-328c4afc61de" />

Главный экран:

<img width="1734" height="908" alt="image" src="https://github.com/user-attachments/assets/db243b45-e82c-4e04-bcea-58fdd51764aa" />

Также на главном экране есть отзывы клиентов:

<img width="798" height="861" alt="image" src="https://github.com/user-attachments/assets/75859415-7716-4942-9033-ee9699296233" />

И достоинства сети салонов:

<img width="752" height="741" alt="image" src="https://github.com/user-attachments/assets/15688414-fc78-49a0-b4db-17f173bbb408" />

Салон можно выбрать как и с помощью карты(интерактивной) так и из списка.

Для успешной записи нужно войти в свой аккаунт или создать новый, для этого в правом верхнем углу есть кнопка войти, при нажатии на которую появляется коно для авторизации если аккаунт есть или можно нажать кнопку регистрации если аккаунта нет:

<img width="352" height="418" alt="image" src="https://github.com/user-attachments/assets/9b2e55e8-611d-4b34-9fb3-873ba5a80179" />
<img width="222" height="322" alt="image" src="https://github.com/user-attachments/assets/3859a180-8e8d-463c-b31b-0887f3d03ebf" />

После успешной регистрации или авторизации можно записаться на услугу в определенный салон.
При выборе салона попадаем на экран выбора специалиста:

<img width="663" height="870" alt="image" src="https://github.com/user-attachments/assets/59edff5b-0a98-4003-89f9-d9ceb4b577ff" />


После выбора специалиста, нужно выбрать Услугу и Дату с временем, запись доступна на 30 дней вперед:

<img width="619" height="854" alt="image" src="https://github.com/user-attachments/assets/e034375a-4379-428a-995a-e20830eb2109" />

Поcле успешной записи можно зайти на свой профиль и посмотреть историю своих посещений и повторно записаться:

<img width="632" height="790" alt="image" src="https://github.com/user-attachments/assets/72e365f4-4ad1-451c-9eb5-0be2ca2a026a" />

Здесь можно отредактировать свои личные данные:

<img width="418" height="275" alt="image" src="https://github.com/user-attachments/assets/a2f57d72-12f5-4b57-8aa2-822eb248f5f3" />

При авторизации под админом admin\admin появляется возможность перейти нав вкладку аналитики:

<img width="644" height="823" alt="image" src="https://github.com/user-attachments/assets/8fb82579-e705-4d97-b6fe-317ec366bd2a" />
<img width="621" height="862" alt="image" src="https://github.com/user-attachments/assets/425a2a4e-9473-4167-a1e7-c639d7715c63" />

Есть возможность выгрузить любые данные за либой период в формате csv для дальнейшей обработки:

<img width="522" height="241" alt="image" src="https://github.com/user-attachments/assets/11722e31-fee4-49a1-9607-3b779f65400a" />

Пример данных:

<img width="455" height="814" alt="image" src="https://github.com/user-attachments/assets/56fb0b3f-8afc-49fc-bcdf-dc5ad53a592c" />










